<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/laravel-chat-system/blog/rss.xml" title="Laravel Chat System Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/laravel-chat-system/blog/atom.xml" title="Laravel Chat System Blog Atom Feed"><title data-react-helmet="true">ChatSystem Providers | Laravel Chat System</title><meta data-react-helmet="true" property="og:url" content="https://binkode.github.io/laravel-chat-system/docs/next/guides/providers"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="ChatSystem Providers | Laravel Chat System"><meta data-react-helmet="true" name="description" content="Registering Providers"><meta data-react-helmet="true" property="og:description" content="Registering Providers"><link data-react-helmet="true" rel="shortcut icon" href="/laravel-chat-system/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://binkode.github.io/laravel-chat-system/docs/next/guides/providers"><link data-react-helmet="true" rel="alternate" href="https://binkode.github.io/laravel-chat-system/docs/next/guides/providers" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://binkode.github.io/laravel-chat-system/docs/next/guides/providers" hreflang="x-default"><link rel="stylesheet" href="/laravel-chat-system/assets/css/styles.3df740eb.css">
<link rel="preload" href="/laravel-chat-system/assets/js/runtime~main.22a6c765.js" as="script">
<link rel="preload" href="/laravel-chat-system/assets/js/main.6de781f7.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/laravel-chat-system/"><img src="/laravel-chat-system/img/logo.png" alt="Laravel Chat System" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/laravel-chat-system/img/logo.png" alt="Laravel Chat System" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Laravel Chat System</b></a><div class="navbar__item dropdown dropdown--hoverable dropdown--left"><a class="navbar__item navbar__link" href="/laravel-chat-system/docs/next/">Next</a><ul class="dropdown__menu"><li><a aria-current="page" class="dropdown__link dropdown__link--active" href="/laravel-chat-system/docs/next/guides/providers">Next</a></li><li><a class="dropdown__link" href="/laravel-chat-system/docs/guides/providers">v1.0.0-beta.4</a></li><li><a class="dropdown__link" href="/laravel-chat-system/docs/v1.0.0-beta.0/guides/providers">v1.0.0-beta.0</a></li><li><a class="dropdown__link" href="/laravel-chat-system/docs/v1.0-alpha.3/guides/providers">v1.0-alpha.3</a></li></ul></div><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/laravel-chat-system/docs/">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/binkode/laravel-chat-system-docs" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_cxYs react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_iYfV">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_iYfV">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/laravel-chat-system/"><img src="/laravel-chat-system/img/logo.png" alt="Laravel Chat System" class="themedImage_TMUO themedImage--light_4Vu1 navbar__logo"><img src="/laravel-chat-system/img/logo.png" alt="Laravel Chat System" class="themedImage_TMUO themedImage--dark_uzRr navbar__logo"><b class="navbar__title">Laravel Chat System</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a role="button" class="menu__link menu__link--sublist">Versions</a><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/laravel-chat-system/docs/next/guides/providers">Next</a></li><li class="menu__list-item"><a class="menu__link" href="/laravel-chat-system/docs/guides/providers">v1.0.0-beta.4</a></li><li class="menu__list-item"><a class="menu__link" href="/laravel-chat-system/docs/v1.0.0-beta.0/guides/providers">v1.0.0-beta.0</a></li><li class="menu__list-item"><a class="menu__link" href="/laravel-chat-system/docs/v1.0-alpha.3/guides/providers">v1.0-alpha.3</a></li></ul></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/laravel-chat-system/docs/">Docs</a></li><li class="menu__list-item"><a href="https://github.com/binkode/laravel-chat-system-docs" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_lDyR"><aside class="docSidebarContainer_0YBq"><div class="sidebar_a3j0"><nav class="menu menu--responsive thin-scrollbar menu_cyFh menuWithAnnouncementBar_+O1J" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_iZzd" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Chat System</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/install">Installation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/requirements">Requirements</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/guides/configure">Configuring ChatSystem</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/laravel-chat-system/docs/next/guides/providers">Using Providers</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/guides/models">Using Models</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/guides/routes">Using Routes</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/guides/conversation">Using Conversation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/guides/message">Using Message</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/guides/chatEvent">Using ChatEvent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/guides/broadcasts">Listening to broadcast events</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#">Api Ref</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Models</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/models/message">Message</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/models/conversation">Conversation</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/models/chatEvent">ChatEvent</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Traits</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">ChatEvent</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/traits/chatEvent/canMakeChatEvent">CanMakeChatEvent</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/traits/chatEvent/hasChatEvent">HasChatEvent</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Message</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/traits/message/hasMessage">HasMessage</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Events</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/events/message/events">Message Events</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/events/message/created">Message Created Event</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/laravel-chat-system/docs/next/apis/chatsytem">ChatSytem</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_r8cw"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_zHA2"><div class="alert alert--warning margin-bottom--md" role="alert"><div>This is unreleased documentation for Laravel Chat System <b>Next</b> version.</div><div class="margin-top--md">For up-to-date documentation, see the <b><a href="/laravel-chat-system/docs/guides/providers">latest version</a></b> (v1.0.0-beta.4).</div></div><div class="docItemContainer_oiyr"><article><span class="badge badge--secondary">Version: Next</span><div class="markdown"><header><h1 class="h1Heading_dC7a">ChatSystem Providers</h1></header><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="registering-providers"></a>Registering Providers<a class="hash-link" href="#registering-providers" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="registering-observers"></a><code>Registering Observers</code><a class="hash-link" href="#registering-observers" title="Direct link to heading">#</a></h3><p>ChatSystem provides observer to listen to model events.
Make sure you register the observers in your Application Service Provider.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// App\Providers\AppServiceProvider.php</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use ChatSystem;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public function boot()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ChatSystem::registerObservers();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="registering-policies"></a><code>Registering Policies</code><a class="hash-link" href="#registering-policies" title="Direct link to heading">#</a></h3><p>ChatSystem provides policies to authenticate its api endpoints.
Make sure you register the policies in your application Auth Service Provider if you are using Built in ChatSystem api endpoints.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// App\Providers\AuthServiceProvider.php</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use ChatSystem;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public function boot()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ChatSystem::registerPolicies();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="registering-broadcast-routes"></a><code>Registering Broadcast Routes</code><a class="hash-link" href="#registering-broadcast-routes" title="Direct link to heading">#</a></h3><p>ChatSystem provides broadcast routes to broadcast events on some specific channels.
Make sure you register the broadcast routes in your Broadcast Service Provider if you will be listening to the broadcast channels provided by ChatSystem.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// App\Providers\BroadcastServiceProvider.php</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use ChatSystem;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public function boot()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ChatSystem::registerBroadcastRoutes();</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="overriding-providers"></a>Overriding Providers<a class="hash-link" href="#overriding-providers" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="overriding-chatsystem-observer-methods"></a><code>Overriding ChatSystem Observer Methods</code><a class="hash-link" href="#overriding-chatsystem-observer-methods" title="Direct link to heading">#</a></h3><p>You may want to overried some specific Observers methods.
For example you may want to create system messages everytime a conversation is created.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Observers;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Binkode\ChatSystem\Observers\ConversationObserver as BaseConversationObserver;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Binkode\ChatSystem\Contracts\IConversation;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class ConversationObserver extends BaseConversationObserver</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * Handle the conversation &quot;created&quot; event.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * @param  \Binkode\ChatSystem\Contracts\IConversation  $conversation</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   * @return void</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">   */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public function created(IConversation $conversation)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    $messages = $conversation-&gt;messages()-&gt;createMany([</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;user_id&#x27; =&gt; $conversation-&gt;user_id,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;message&#x27; =&gt; trans(&#x27;msg.chat.system.safety&#x27;),</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;type&#x27; =&gt; &#x27;system&#x27;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ],</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      [</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;user_id&#x27; =&gt; $conversation-&gt;user_id,</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;message&#x27; =&gt; trans(&#x27;msg.chat.system.msg_desc&#x27;),</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        &#x27;type&#x27; =&gt; &#x27;system&#x27;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      ],</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ]);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>Then you have to unregister the extended observer registered with <code>ChatSystem::registerObservers()</code> by passing <code>exclude</code> argument.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">// App\Providers\AppServiceProvider.php</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use ChatSystem;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Conversation;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Observers\ConversationObserver;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  public function boot()</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    ChatSystem::registerObservers(exclude: [&#x27;conversation&#x27; =&gt; true]);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    Conversation::observe(ConversationObserver::class);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  }</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_WiXH" id="overriding-chatsystem-policy-methods"></a><code>Overriding ChatSystem Policy Methods</code><a class="hash-link" href="#overriding-chatsystem-policy-methods" title="Direct link to heading">#</a></h3><p>You may want to overried some specific Policy methods such as <code>view</code>, <code>delete</code> method.</p><div class="codeBlockContainer_J+bg"><div class="codeBlockContent_csEI php"><pre tabindex="0" class="prism-code language-php codeBlock_rtdJ thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#F8F8F2"><span class="token plain">...</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">namespace App\Policies;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\Conversation;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use App\Models\User;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Illuminate\Auth\Access\HandlesAuthorization;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Binkode\ChatSystem\Policies\ConversationPolicy as CSCP;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Binkode\ChatSystem\Contracts\IConversation;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">use Binkode\ChatSystem\Contracts\IChatEventMaker;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">class ConversationPolicy extends CSCP</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">{</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    use HandlesAuthorization;</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Determine whether the user can view the model.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param  \App\User  $user</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param  \App\Models\Conversation  $conversation</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @return mixed</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function view(IChatEventMaker $user, IConversation $conversation)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return in_array($conversation-&gt;type, [&#x27;issue&#x27;, &#x27;group&#x27;])</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        || $user-&gt;relatedToConversation($conversation);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    /**</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * Determine whether the user can delete the model.</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     *</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param  \App\User  $user</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @param  \App\Models\Conversation  $conversation</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     * @return mixed</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">     */</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    public function delete(IChatEventMaker $user, IConversation $conversation)</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    {</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      return $user-&gt;relatedToConversation($conversation);</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    }</span></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">}</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/binkode/laravel-chat-system-docs/edit/master/docs/guides/providers.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_wj+Z"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/laravel-chat-system/docs/next/guides/configure"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Configuring ChatSystem</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/laravel-chat-system/docs/next/guides/models"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using Models Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#registering-providers" class="table-of-contents__link">Registering Providers</a><ul><li><a href="#registering-observers" class="table-of-contents__link"><code>Registering Observers</code></a></li><li><a href="#registering-policies" class="table-of-contents__link"><code>Registering Policies</code></a></li><li><a href="#registering-broadcast-routes" class="table-of-contents__link"><code>Registering Broadcast Routes</code></a></li></ul></li><li><a href="#overriding-providers" class="table-of-contents__link">Overriding Providers</a><ul><li><a href="#overriding-chatsystem-observer-methods" class="table-of-contents__link"><code>Overriding ChatSystem Observer Methods</code></a></li><li><a href="#overriding-chatsystem-policy-methods" class="table-of-contents__link"><code>Overriding ChatSystem Policy Methods</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/laravel-chat-system/docs/">Getting Started</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/laravel-chat-system" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/laravel-chat-system/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/binkode/laravel-chat-system" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2025 Laravel Chat System, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/laravel-chat-system/assets/js/runtime~main.22a6c765.js"></script>
<script src="/laravel-chat-system/assets/js/main.6de781f7.js"></script>
</body>
</html>